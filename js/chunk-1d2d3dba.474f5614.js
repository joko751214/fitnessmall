(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d2d3dba"],{"0fd0":function(t,e,r){"use strict";r.r(e);var c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.product.imageUrl?r("div",{staticClass:"container",staticStyle:{"margin-top":"7rem","margin-bottom":"5rem"}},[r("div",{staticClass:"row align-items-center justify-content-center mb-4"},[r("div",{staticClass:"col-lg-5"},[r("div",{staticClass:"rounded-0",staticStyle:{height:"400px","background-size":"cover","background-position":"center"},style:{backgroundImage:"url("+t.product.imageUrl+")"}})]),r("div",{staticClass:"col-lg-5 mt-3"},[r("h2",{staticClass:"font-weight-bold h1 mb-5"},[t._v(t._s(t.product.title))]),r("p",{staticClass:"mt-3"},[t._v(t._s(t.product.content))]),r("p",{staticClass:"text-muted",domProps:{innerHTML:t._s(t.product.description)}}),r("p",{staticClass:"mb-0 text-muted text-right"},[r("del",[t._v(t._s(t._f("currency")(t.product.origin_price)))])]),r("p",{staticClass:"h4 font-weight-bold text-right price"},[t._v(t._s(t._f("currency")(t.product.price)))]),r("div",{staticClass:"d-flex align-items-center mt-3"},[r("div",{staticClass:"input-group my-3 mr-2"},[r("select",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-control",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.amount=e.target.multiple?r:r[0]}}},[r("option",{attrs:{value:"0",disabled:"",selected:"selected"}},[t._v(" 請選擇數量 ")]),t._l(10,(function(e){return r("option",{key:e,domProps:{value:e}},[t._v(" 選購 "+t._s(e)+" "+t._s(t.product.unit)+" ")])}))],2)]),r("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:function(e){return t.addToCart(t.product,t.amount)}}},[t._v("加到購物車")])])])]),r("hr"),r("h5",{staticClass:"font-weight-bold mt-4"},[t._v("相關商品")]),r("RelatedProduct",{attrs:{product:t.product},on:{update:t.getProduct}})],1):t._e()},a=[],o=(r("99af"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.relatedProducts.length?r("div",{staticClass:"row"},t._l(t.relatedProducts,(function(e){return r("div",{key:e.id,staticClass:"col-md-4"},[r("div",{staticClass:"card border-0 mb-4 position-relative position-relative"},[r("div",{staticClass:"relatedPicture",style:{backgroundImage:"url("+e.imageUrl[0]+")"},on:{click:function(r){return r.preventDefault(),t.move(e.id)}}}),r("div",{staticClass:"card-body p-0"},[r("h4",{staticClass:"mt-3 mb-2"},[t._v(t._s(e.title))]),r("p",{staticClass:"card-text mb-0 price"},[t._v(t._s(t._f("currency")(e.price))+" "),r("span",{staticClass:"text-muted"},[r("del",[t._v(t._s(t._f("currency")(e.origin_price)))])])]),r("button",{staticClass:"btn btn-primary text-white mt-2 btn-block",on:{click:function(r){return t.addToCart(e)}}},[t.statusId===e.id?r("b-spinner",{attrs:{small:"",type:"grow"}}):t._e(),t._v(" 加入購物車 ")],1)])])])})),0):t._e()}),s=[],n=(r("4de4"),{props:["product"],data:function(){return{products:[],relatedProduct:[],statusId:""}},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=this.$loading.show(),c="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/products");this.$http.get(c,{params:{page:e}}).then((function(e){t.products=e.data.data,r.hide()})).catch((function(e){t.$swal("獲取清單列表失敗",e.response.data.errors[0],"error")}))},addToCart:function(t){var e=this;this.statusId=t.id;var r="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/shopping"),c={product:t.id,quantity:1};this.$http.post(r,c).then((function(){e.$bus.$emit("quantity",c.quantity),e.statusId="",e.$swal("產品添加成功","請至購物車結帳","success")})).catch((function(t){e.statusId="",e.$swal("商品重複",t.response.data.errors[0],"error")}))},move:function(t){this.$router.push("/product/".concat(t)),this.$emit("update")}},computed:{relatedProducts:function(){var t=this,e=this.products.filter((function(e){return e.id!==t.product.id&&e.category===t.product.category}));return e}},created:function(){this.getProducts()}}),i=n,d=(r("1a9b"),r("2877")),u=Object(d["a"])(i,o,s,!1,null,null,null),l=u.exports,p={components:{RelatedProduct:l},data:function(){return{product:{},amount:0}},methods:{getProduct:function(){var t=this,e=this.$route.params.id,r="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/product/").concat(e),c=this.$loading.show();this.$http.get(r).then((function(e){t.product=e.data.data,c.hide()})).catch((function(e){t.$swal("商品獲取失敗",e.response.data.errors[0],"error")}))},addToCart:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c="".concat("https://course-ec-api.hexschool.io/api","/").concat("e9fd54ce-9d42-40cb-ba4e-14553d1d6375","/ec/shopping"),a={product:t.id,quantity:r},o=this.$loading.show();this.$http.post(c,a).then((function(){o.hide(),e.$swal("產品添加成功","請至購物車結帳","success")})).catch((function(t){o.hide(),e.$swal("商品重複",t.response.data.errors[0],"error")}))}},created:function(){var t=this.$route.params.id;this.getProduct(t)}},h=p,f=(r("7ad1"),Object(d["a"])(h,c,a,!1,null,null,null));e["default"]=f.exports},"1a9b":function(t,e,r){"use strict";var c=r("7d78"),a=r.n(c);a.a},"7ad1":function(t,e,r){"use strict";var c=r("dd41"),a=r.n(c);a.a},"7d78":function(t,e,r){},8418:function(t,e,r){"use strict";var c=r("c04e"),a=r("9bf2"),o=r("5c6c");t.exports=function(t,e,r){var s=c(e);s in t?a.f(t,s,o(0,r)):t[s]=r}},"99af":function(t,e,r){"use strict";var c=r("23e7"),a=r("d039"),o=r("e8b5"),s=r("861d"),n=r("7b0b"),i=r("50c4"),d=r("8418"),u=r("65f0"),l=r("1dde"),p=r("b622"),h=r("2d00"),f=p("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",b=h>=51||!a((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=l("concat"),_=function(t){if(!s(t))return!1;var e=t[f];return void 0!==e?!!e:o(t)},C=!b||!g;c({target:"Array",proto:!0,forced:C},{concat:function(t){var e,r,c,a,o,s=n(this),l=u(s,0),p=0;for(e=-1,c=arguments.length;e<c;e++)if(o=-1===e?s:arguments[e],_(o)){if(a=i(o.length),p+a>m)throw TypeError(v);for(r=0;r<a;r++,p++)r in o&&d(l,p,o[r])}else{if(p>=m)throw TypeError(v);d(l,p++,o)}return l.length=p,l}})},dd41:function(t,e,r){}}]);
//# sourceMappingURL=chunk-1d2d3dba.474f5614.js.map